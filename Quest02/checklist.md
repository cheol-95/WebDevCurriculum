# Quest 02. CSS의 기초와 응용
## CSS를 HTML에 적용하는 세 가지 방법은 무엇일까요?
- __Inline Style Sheet__
    - HTML 태그의 style 속성에 CSS 코드를 삽입한다.
    - 꾸미는데 한계가 있으며 재사용이 불가능하다
    ```
    <p style="color: blue">Lorem ipsum dolor.</p>
    ```
    <br>

- __Internal Style Sheet__
    - HTML 문서 내부 `<style> ~~ </style>` 안에 CSS 코드를 삽입한다.
    - 일반적으로 `<head>`에 선언하며, 다른 HTMl 문서에 적용 불가능 -> 재사용성 x
    ```
    <style>
        h1 {
            color: blue;
        }
    </style>
    ```
    <br>

- __Linking Style Sheet__
    - 별도의 CSS 파일을 만들고 HTML 문서와 연결하는 방법이다.
    - 재사용성이 뛰어나고 HTML 문서와 연결이 간단하다.
    ```
    <link rel="stylesheet" href="css/style.css">
    ```
    <br><br>

## CSS 규칙의 우선순위는 어떻게 결정될까요?
1. 사용자 스타일 시트 우선
    - 저시력자 같이 특별한 환경이 필요한 사용자에게 맞게 구성한 스타일 시트다.
    - 보통 os혹은 시스템을 통해 미리 작성된 것으로 `개발자가 제어하지 못하는 부분`이다.

<br>

1. 중요 스타일 (속성 값 뒤에 `!important` 명시)
    ```
    .compulsion{ color: black !important }
    ```
<br>
    
1. 일반 스타일
    1. 태그에 `inline`으로 지정한 속성
    2. `#id`로 지정한 속성
    3. `.클래스`로 지정한 속성
    4. `태그이름`으로 지정한 속성
    5. 상위 객체에 의해 상속된 속성
    ```
    우선 순위가 동일한 경우, 나중에 작성한 스타일이 우선적으로 적용된다.
    ```
    <br><br>

## CSS의 박스모델은 무엇일까요?
- 문서의 레이아웃을 계산할 때, 브라우저의 렌더링 엔진은 표준 `CSS 기본 박스 모델`에 따라 각각의 요소를 사각형 박스로 표현한다.
- CSS는 박스의 크기, 위치, 속성(색, 배경, 테두리 모양 등)을 결정한다.
<br><br>

### 박스가 화면에서 차지하는 크기는 어떻게 결정될까요?
<img src="https://mdn.mozillademos.org/files/8685/boxmodel-(3).png" width="500" height="350"><br>
하나의 박스는 네 영역으로 이루어지고, 이를 합산한 크기가 박스가 화면에서 차지하는 크기다.

- __Content area__
    - 콘텐츠 경계가 감싼 영역으로, 글이나 이미지, 비디오 등 요소의 실제 내용을 포함한다.
    - 영역의 크기는 콘텐츠의 너비와 높이이며, 배경색과 배경 이미지를 가지고 있기도 하다.
- __Padding area__
    - 안쪽 여백 경계가 감싼 영역으로, 컨텐츠 영역을 요소의 안쪽 여백까지 포함하는 크기로 확장한다.
    - 영역의 크기는 안쪽 여백 박스의 너비와 높이다.
- __Border area__
    - 테두리 경계가 감싼 영역으로, 안쪽 여백 영역을 요소의 테두리까지 포함하는 크기로 확장한다.
    - 영역의 크기는 테두리 박스의 너비와 높이다.
- __Margin area__
    - 바깥 여백 경계가 감싼 영역으로, 테두리 요소를 확장해 요소와 인근 요소 사이의 빈 공간까지 포함하도록 만든다.
    - 영역의 크기는 바깥 여백 박스 너비와 높이다.
<br><br><br>

## `float`속성은 왜 좋지 않을까요?
- 자식 요소의 크기가 커져도 부모 요소의 크기가 동적으로 늘어나지 않을 수 있다.
- 요소의 높이가 제각각일 때, 레이아웃이 의도한대로 정렬되지 않는다.
- float 뒤에 이어지는 다른 블록 레벨 element의 박스에서도 유효하며 float속성이 해제되지 않는다.
    - clear 속성으로 해제해줘야 한다.

<br><br>

## Flexbox(Flexible box)와 CSS Grid의 차이와 장단점은 무엇일까요?
| 분류 | Flexbox | Grid |
| :---:|:---:|:---: |
| 범위 | 1차원 레이아웃 | 2차원 레이아웃 |
| 장점 | reverse가 가능하다<br>하위 item 정렬이 간편하다<br>모든방향으로 정렬이 가능하다 | 매우 쉽고 간단하다 |
| 단점 | 퍼포먼스 이슈가 있다 | 지원하지 않는 브라우저가 있다 |

<br><br>

## CSS의 비슷한 요소들을 어떤 식으로 정리할 수 있을까요?
- 클래스를 정의하거나 모듈화를 통해 재사용한다.
<br><br>

# Advanced
## 왜 CSS는 어려울까요?
`브라우저나 런타임에 따라 결과물이 달라지기 때문에 모든 디바이스를 고려해야 한다.`
1. __어떤 css 규칙이 최종적으로 적용될지 예측하기 어렵다.__
    - 같은 css 규칙을 여러번 선언할 수 있기 때문에 모든 규칙을 빠짐없이 파악해야 예측할 수 있다.
    - 글로벌 네임스페이스, 상속과 같은 개념들을 유의해서 파악해야 한다.
<br>

2. __css 규칙의 상호작용을 모두 알기 어렵다.__
    - css 속성은 대부분 다른 속성과 상호작용을 하여 겺과값은 내는데, 덕분에 복잡성이 증가한다.
<br>

3. __런타임 환경을 예상하기 어렵다.__
    - 웹 브라우저의 버전과 개발사, 운영체제 모두 css 결과값에 영향을 준다.
<br><br>

## CSS의 어려움을 극복하기 위해 어떤 방법들이 제시되고 나왔을까요?
- css 작성 시, 명확한 네임스페이스를 지정해 구분이 가도록 한다.
    - 필요시 BEM, CSS Modules 등을 도입해 체계적으로 관리한다.
        ```
        BEM : 클래스 네이밍을 명명법
        CSS Modules : 각 파일에 선언된 css 선택자에 고유한 해시 문자열을 추가하여, 해당 선택자가 각 파일의 네임스페이스에서만 동작하도록 관리
        ```
<br>

- css 전처리기를 사용해 가독성을 높이고, 유지 보수성을 높인다.
- ant design, material design 같은 디자인 라이브러리를 사용한다.

<br><br>

## CSS가 브라우저에 의해 해석되고 적용되기까지 내부적으로 어떤 과정을 거칠까요?
1. HTML을 로드하고 `콘텐츠 트리`내부에서 태그를 `DOM` 노드로 변환한다.
2. HTML에 포함된 이미지, 비디오와 같은 리소스, 명시된 `CSS`를 로드한다.
3. css를 구문 분석하고 선택자 유형별로 다른 규칙을 다른 `buckets`으로 정렬한다.
    - 요소, class, id 등 찾은 선택자를 기반으로 DOM의 어느 노드에 어떤 규칙을 적용해야 하는지 결정한다.
    - 이 단계를 render tree 라고 한다.
4. `render tree`는 규칙이 적용된 후, 표시되어야 하는 구조로 배치된다.
5. `painting`과정으로, 페이지의 시각적 표시가 화면에 표시된다.

`렌더링 엔진은 좀 더 나은 ux를 위해 가능하면 빠르게 내용을 표시하는데, 모든 HTML을 파싱할 때까지 기다리지 않고 배치와 그리기 과정을 시작한다`

<br><br>

## 웹 폰트의 경우에는 브라우저 엔진 별로 어떤 과정을 통해 렌더링 될까요?
- __IE계열 브라우저__
    - `FOUT (Flash Of Unstyled Text)`방식은 웹 폰트가 적용되지 않은 상태에서도 텍스트를 폴백 폰트로 렌더링한다.
    - 웹 폰트 여부에 관계없이 텍스트가 항상 보이는 장점이 있지만, 글꼴의 자간, 높이 등 서식이 달라 웹 폰트 적용 전과 후에 레이아웃이 변경될 수 있다.
<br>

- __그 외 브라우저__
    - `FOIT (Flash Of Invisible Text)`방식은 웹 폰트가 로딩되기 전까지 해당 텍스트를 화면에 보여주지 않는다.
    - 한번에 웹 폰트를 보여줄 수 있다는 장점이 있지만, 웹 폰트의 로딩이 늦으면 빈 텍스트가 노출되는 문제가 있다.

<br><br>


# Review Comment
### Naming
- `상속`이나 `wt-text` 같은 방식보다 `.wetoon .text` 방식을 선호
- `#id`사용은 지양하도록 한다.

### HTML + CSS의 좋은선언 방법
- 작업은 나눠서 하되, 번들링을 통해 HTML안에 CSS을 선언하도록 한다.

<br>

## reflow? repainting?
### __reflow__
- 어떠한 액션이나 이벤트에 의해 DOM 요소의 크기나 위치 등을 변경하면 해당 노드의 하위 노드와 상위 노드들을 포함하여 렌더 트리를 다시 계산한다.
- 변경하려는 특정 요소뿐만 아니라 연관된 요소들까지 재계산을 하기 때문에 브라우저의 퍼포먼스를 저하시킨다.

<br>

### __repainting__
- reflow 과정이 끝난 후 재생성된 랜더 트리를 다시 그리는 작업이다.
- 수치와 상관없는 background-color, visibility, outline 등의 스타일 변경 시 reflow 과정을 거치지 않기때문에 부하가 적다.

<br>

### reflow의 최소화 
- DOM Tree의 Depth를 최소화 한다.
- JS를 통해 스타일 변화를 줄 경우, 가급적 한 번에 처리한다.
    ```
    e.target.style.width = "150px"; // reflow 발생
    e.target.style.height = "300px"; // reflow 발생

    ->

    e.target.style = "width: 150px; height: 300px"; // reflow 발생
    ```
<br><br><br>

---
# Note.
### CSS? (Cascading Style Sheets)
- HTML이나 XML같은 언어로 작성된 문서의 표현을 기술하기 위해 쓰이는 스타일시트 언어다.
- 요소가 화면, 종이, 음성이나 다른 매체상에 어떻게 렌더링 되어야 하는지 기술한다.

## CSS의 구조 - rule set
<img src="https://mdn.mozillademos.org/files/9461/css-declaration-small.png" alt="css rule set" width="400" height="240">
<br>

- __선택자(selector)__
    - rule set의 맨 앞에 있는 HTML 요소 이름 (p)

- __선언__
    - `color: red`와 같은 단일 규칙으로 속성 명시

- __속성 (property)__
    - 주어진 HTML 요소를 꾸밀 수 있는 방법으로 rule 내에서 영향을 줄 속성 선택

- __속성 값 (value)__
    - 주어진 속성을 위한 가능한 결과 중 하나를 선택

